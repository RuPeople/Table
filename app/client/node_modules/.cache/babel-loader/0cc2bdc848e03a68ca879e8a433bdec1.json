{"ast":null,"code":"var _jsxFileName = \"/home/rupeople/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/web/1. Now/WelbeX/app/client/src/Components/TableInput/TableInput.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { Button, Form, InputGroup } from \"react-bootstrap\";\nimport { observer } from \"mobx-react-lite\";\nimport { Context } from \"../../index\";\nimport { fetchRows } from \"../../http/dataApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TableInput = _s(observer(_c = _s(() => {\n  _s();\n\n  const {\n    rows\n  } = useContext(Context);\n  const [col_date, setDate] = useState('0000-00-00');\n  const [col_name, setName] = useState('');\n  const [col_count, setCount] = useState(0);\n  const [col_distance, setDistance] = useState(0);\n\n  const onSubmitForm = async e => {\n    e.preventDefault();\n\n    try {\n      const body = {\n        col_date,\n        col_name,\n        col_count,\n        col_distance\n      };\n      const response = await fetch(\"http://localhost:5000/rows\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      fetchRows().then(data => {\n        rows.setRows(data);\n        const sorted = [...rows.rows].sort((a, b) => a[\"col_name\"].toLowerCase() > b[\"col_name\"].toLowerCase() ? 1 : -1);\n        rows.setSortedRows(sorted);\n      });\n      console.log(response);\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmitForm,\n      children: /*#__PURE__*/_jsxDEV(InputGroup, {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"date\",\n          \"aria-label\": \"date\",\n          \"aria-describedby\": \"date\",\n          type: \"date\",\n          value: col_date,\n          onChange: e => setDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"name\",\n          \"aria-label\": \"name\",\n          \"aria-describedby\": \"name\",\n          type: \"text\",\n          value: col_name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"count\",\n          \"aria-label\": \"count\",\n          \"aria-describedby\": \"count\",\n          type: \"number\",\n          value: col_count,\n          onChange: e => setCount(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          placeholder: \"distance\",\n          \"aria-label\": \"distance\",\n          \"aria-describedby\": \"distance\",\n          type: \"number\",\n          value: col_distance,\n          onChange: e => setDistance(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-secondary\",\n          type: \"submit\",\n          children: \"Add row\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}, \"iZAfrW67LNoDfVOIFe6GEyiN6+I=\")), \"iZAfrW67LNoDfVOIFe6GEyiN6+I=\");\n\n_c2 = TableInput;\nexport default TableInput;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TableInput$observer\");\n$RefreshReg$(_c2, \"TableInput\");","map":{"version":3,"names":["React","useContext","useState","Button","Form","InputGroup","observer","Context","fetchRows","TableInput","rows","col_date","setDate","col_name","setName","col_count","setCount","col_distance","setDistance","onSubmitForm","e","preventDefault","body","response","fetch","method","headers","JSON","stringify","then","data","setRows","sorted","sort","a","b","toLowerCase","setSortedRows","console","log","err","message","target","value"],"sources":["/home/rupeople/Рабочий стол/web/1. Now/WelbeX/app/client/src/Components/TableInput/TableInput.jsx"],"sourcesContent":["import React, {useContext, useState} from 'react';\nimport {Button, Form, InputGroup} from \"react-bootstrap\";\nimport {observer} from \"mobx-react-lite\";\nimport {Context} from \"../../index\";\nimport {fetchRows} from \"../../http/dataApi\";\n\nconst TableInput = observer(() => {\n    const {rows} = useContext(Context)\n\n    const [col_date, setDate] = useState('0000-00-00')\n    const [col_name, setName] = useState('')\n    const [col_count, setCount] = useState(0)\n    const [col_distance, setDistance] = useState(0)\n\n    const onSubmitForm = async e => {\n        e.preventDefault();\n        try {\n\n            const body = {col_date, col_name, col_count, col_distance}\n            const response = await fetch(\"http://localhost:5000/rows\",\n                {\n                    method: \"POST\",\n                    headers: {\"Content-type\": \"application/json\"},\n                    body: JSON.stringify(body)\n                });\n            fetchRows().then(data => {\n                rows.setRows(data)\n                const sorted = [...rows.rows].sort((a,b) => a[\"col_name\"].toLowerCase() > b[\"col_name\"].toLowerCase() ? 1:-1)\n                rows.setSortedRows(sorted)\n            })\n            console.log(response)\n        }\n        catch (err) {\n            console.log(err.message)\n        }\n    }\n\n\n\n    return (\n        <div>\n            <h1>Input</h1>\n            <form onSubmit={onSubmitForm}>\n                <InputGroup className=\"mb-2\" >\n                    <Form.Control\n                        placeholder=\"date\"\n                        aria-label=\"date\"\n                        aria-describedby=\"date\"\n                        type=\"date\"\n                        value={col_date}\n                        onChange={e =>  setDate(e.target.value)}\n                    />\n                    <Form.Control\n                        placeholder=\"name\"\n                        aria-label=\"name\"\n                        aria-describedby=\"name\"\n                        type=\"text\"\n                        value={col_name}\n                        onChange={e =>  setName(e.target.value)}\n                    />\n                    <Form.Control\n                        placeholder=\"count\"\n                        aria-label=\"count\"\n                        aria-describedby=\"count\"\n                        type=\"number\"\n                        value={col_count}\n                        onChange={e =>  setCount(e.target.value)}\n                    />\n                    <Form.Control\n                        placeholder=\"distance\"\n                        aria-label=\"distance\"\n                        aria-describedby=\"distance\"\n                        type=\"number\"\n                        value={col_distance}\n                        onChange={e =>  setDistance(e.target.value)}\n                    />\n                    <Button\n                        variant=\"outline-secondary\"\n                        type=\"submit\"\n                    >\n                        Add row\n                    </Button>\n                </InputGroup>\n            </form>\n\n        </div>\n    );\n});\n\nexport default TableInput;"],"mappings":"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"},"metadata":{},"sourceType":"module"}